(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fda952d4"],{"410d":function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return l});var a=n("b32d"),r=function(){return a["a"].request({url:"/api/syllabus/levels/",method:"get"})},i=function(e){return a["a"].request({url:"/api/syllabus/level/".concat(e,"/courses/"),method:"get"})},s=function(e){return a["a"].request({url:"/api/syllabus/".concat(e,"/contents/"),method:"get"})},c=function(e){return a["a"].request({url:"/api/admin/user-syllabus/",method:"get",params:e})},o=function(e){return a["a"].request({url:"/api/admin/user-syllabus/",method:"post",data:e})},u=function(e,t){return a["a"].request({url:"/api/admin/user-syllabus/".concat(e,"/validate/"),method:"put",data:t})},l=function(e){return a["a"].request({url:"/api/admin/user-syllabus/".concat(e,"/"),method:"delete"})}},7514:function(e,t,n){"use strict";var a=n("5ca1"),r=n("0a49")(5),i="find",s=!0;i in[]&&Array(1)[i](function(){s=!1}),a(a.P+a.F*s,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},"963f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{align:"center",xs:24,sm:12,md:12,lg:12}},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.contentList},on:{select:e.handleSelection}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{property:"name",label:"Content"}}),n("el-table-column",{attrs:{label:"Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:!0===t.row.isValidated?"success":"warning"}},[e._v("\n                            "+e._s(e.tagStatus(t.row))+"\n                        ")])]}}])})],1)],1)],1),n("el-row",[n("el-col",{staticStyle:{"margin-top":"20px"},attrs:{align:"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.SendContents()}}},[e._v("Save")])],1)],1)],1)},r=[],i=(n("7514"),n("96cf"),n("3b8d")),s=(n("ac6a"),n("d225")),c=n("b0b4"),o=n("308d"),u=n("6bb5"),l=n("4e2b"),d=n("9ab4"),f=n("60a3"),p=n("410d"),b=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.contentList=[],e.selectedContentList=[],e.completedList=[],e.componentKey=1,e.updated=!0,e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"tagStatus",value:function(e){return!0===e.isValidated?"Approved":e.isChecked?"Waiting For Approval":"Uncompleted."}},{key:"toggleSelection",value:function(e){var t=this;e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e,!0)})}},{key:"handleSelection",value:function(e){console.log("handle"),this.selectedContentList=e}},{key:"handleRowClick",value:function(e,t,n){this.$refs.multipleTable.toggleRowSelection(e)}},{key:"compareContentArrays",value:function(){var e=this,t=[];this.completedList.forEach(function(n){return e.contentList.forEach(function(e){n.content===e.id&&(t.push(e),e.isValidated=!0===n.is_validated,e.isChecked=!0,e.syllabusId=n.id,e.waitForValidate=e.isChecked&&!e.isValidated)})}),this.toggleSelection(t)}},{key:"SendContents",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.contentList.forEach(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(n,a){var r,i,s,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.selectedContentList.find(function(e){return e.id==n.id}),!r){e.next=20;break}if(!1!==n.isValidated){e.next=18;break}if(!1!==n.waitForValidate){e.next=18;break}if(i={content:n.id},void 0!==t.userId){e.next=8;break}e.next=18;break;case 8:return i["user"]=t.userId,e.next=11,Object(p["a"])(i);case 11:return s=e.sent,c=s.data,e.next=15,Object(p["d"])(c.id,i);case 15:o=e.sent,o.data,t.contentList[a].isValidated=!0;case 18:e.next=26;break;case 20:if(!0!==n.isValidated){e.next=26;break}if(void 0===t.userId){e.next=26;break}if(void 0===n.syllabusId){e.next=26;break}return e.next=25,Object(p["b"])(n.syllabusId);case 25:t.contentList[a].isValidated=!0;case 26:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),this.$message({message:"Saved successfully!",type:"success",duration:1e3});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p["e"])(this.courseId);case 3:if(t=e.sent,n=t.data,this.contentList=n,this.contentList.forEach(function(e){e.waitForValidate=!1,e.isValidated=!1,e.isChecked=!1}),void 0!==this.userId){e.next=10;break}e.next=17;break;case 10:return e.next=12,Object(p["c"])({user:this.userId,content__syllabus:this.courseId});case 12:a=e.sent,r=a.data,this.completedList=r,console.log(this.completedList),this.compareContentArrays();case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.error("coursecontent "+e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));function t(){return e.apply(this,arguments)}return t}()}]),t}(f["c"]);d["a"]([Object(f["b"])(String)],b.prototype,"userId",void 0),d["a"]([Object(f["b"])(String)],b.prototype,"userName",void 0),d["a"]([Object(f["b"])(String)],b.prototype,"courseId",void 0),b=d["a"]([f["a"]],b);var h=b,v=h,m=n("2877"),y=Object(m["a"])(v,a,r,!1,null,"eb55d4a6",null);t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-fda952d4.32eaedbc.js.map